# Flet Storage

> üåê **–ü–µ—Ä–µ–∫–ª–∞–¥–∏:** [üá¨üáß English](README.md)

–õ–µ–≥–∫–∞, –∞—Å–∏–Ω—Ö—Ä–æ–Ω–Ω–∞ –±—ñ–±–ª—ñ–æ—Ç–µ–∫–∞ –¥–ª—è —Ä–æ–±–æ—Ç–∏ –∑—ñ —Å—Ö–æ–≤–∏—â–µ–º —ñ–∑ –ø—ñ–¥—Ç—Ä–∏–º–∫–æ—é –ø—Ä–æ—Å—Ç–æ—Ä—É —ñ–º–µ–Ω –¥–ª—è –∑–∞—Å—Ç–æ—Å—É–Ω–∫—ñ–≤ [Flet](https://flet.dev).

`FletStorage` ‚Äî —Ü–µ –ø–æ—Ç—É–∂–Ω–∞ –æ–±–≥–æ—Ä—Ç–∫–∞ –Ω–∞–≤–∫–æ–ª–æ –≤–±—É–¥–æ–≤–∞–Ω–æ–≥–æ `SharedPreferences` —É Flet. –í–æ–Ω–∞ —Å–ø—Ä–æ—â—É—î –∑–±–µ—Ä–µ–∂–µ–Ω–Ω—è –¥–∞–Ω–∏—Ö –Ω–∞ —Å—Ç–æ—Ä–æ–Ω—ñ –∫–ª—ñ—î–Ω—Ç–∞, –¥–æ–¥–∞—é—á–∏ –∞–≤—Ç–æ–º–∞—Ç–∏—á–Ω—É —Å–µ—Ä—ñ–∞–ª—ñ–∑–∞—Ü—ñ—é JSON, —â–æ –¥–æ–∑–≤–æ–ª—è—î –∑–±–µ—Ä—ñ–≥–∞—Ç–∏ —Ç–∞ –æ—Ç—Ä–∏–º—É–≤–∞—Ç–∏ —Å–∫–ª–∞–¥–Ω—ñ –æ–±'—î–∫—Ç–∏ Python –±–µ–∑ —Ä—É—á–Ω–æ–≥–æ –ø–µ—Ä–µ—Ç–≤–æ—Ä–µ–Ω–Ω—è, —Ç—Ä–∏–º–∞—é—á–∏ –ø—Ä–∏ —Ü—å–æ–º—É –≤–∞—à—ñ –¥–∞–Ω—ñ –æ—Ä–≥–∞–Ω—ñ–∑–æ–≤–∞–Ω–∏–º–∏ —Ç–∞ —ñ–∑–æ–ª—å–æ–≤–∞–Ω–∏–º–∏.

## –û—Å–æ–±–ª–∏–≤–æ—Å—Ç—ñ

- **–ê–≤—Ç–æ–º–∞—Ç–∏—á–Ω–∞ —Å–µ—Ä—ñ–∞–ª—ñ–∑–∞—Ü—ñ—è JSON:** –ó–±–µ—Ä—ñ–≥–∞–π—Ç–µ —Ç–∞ –æ—Ç—Ä–∏–º—É–π—Ç–µ `dict`, `list`, `int`, `bool`, `str` —Ç–∞ `set` –±–µ–∑–ø–æ—Å–µ—Ä–µ–¥–Ω—å–æ –±–µ–∑ —Ä—É—á–Ω–æ–≥–æ –ø–µ—Ä–µ—Ç–≤–æ—Ä–µ–Ω–Ω—è.
- **–ü—Ä–æ—Å—Ç—ñ—Ä —ñ–º–µ–Ω:** –ê–≤—Ç–æ–º–∞—Ç–∏—á–Ω–æ –¥–æ–¥–∞—î –ø—Ä–µ—Ñ—ñ–∫—Å `app_name` –¥–æ –∫–ª—é—á—ñ–≤ –¥–ª—è –∑–∞–ø–æ–±—ñ–≥–∞–Ω–Ω—è –∫–æ–Ω—Ñ–ª—ñ–∫—Ç—ñ–≤ –¥–∞–Ω–∏—Ö –º—ñ–∂ —Ä—ñ–∑–Ω–∏–º–∏ –∑–∞—Å—Ç–æ—Å—É–Ω–∫–∞–º–∏ –Ω–∞ –æ–¥–Ω–æ–º—É –ø—Ä–∏—Å—Ç—Ä–æ—ó.
- **–ê—Å–∏–Ω—Ö—Ä–æ–Ω–Ω—ñ—Å—Ç—å —ñ –ø–∞—Ä–∞–ª–µ–ª—ñ–∑–º:** –ü–æ–≤–Ω—ñ—Å—Ç—é –∞—Å–∏–Ω—Ö—Ä–æ–Ω–Ω–∏–π API –∑ –ø–∞—Ä–∞–ª–µ–ª—å–Ω–∏–º –≤–∏–¥–∞–ª–µ–Ω–Ω—è–º —É –º–µ—Ç–æ–¥—ñ `clear()` –¥–ª—è –º–∞–∫—Å–∏–º–∞–ª—å–Ω–æ—ó –ø—Ä–æ–¥—É–∫—Ç–∏–≤–Ω–æ—Å—Ç—ñ.
- **–ù–∞–¥—ñ–π–Ω–∞ –æ–±—Ä–æ–±–∫–∞ –ø–æ–º–∏–ª–æ–∫:** –ß—ñ—Ç–∫—ñ –≤–∏–Ω—è—Ç–∫–∏ `KeyError` —Ç–∞ `ValueError` –¥–ª—è –ø–µ—Ä–µ–¥–±–∞—á—É–≤–∞–Ω–æ–≥–æ —É–ø—Ä–∞–≤–ª—ñ–Ω–Ω—è –¥–∞–Ω–∏–º–∏.
- **–ü—ñ–¥—Ç—Ä–∏–º–∫–∞ set:** –ú–Ω–æ–∂–∏–Ω–∏ Python –∞–≤—Ç–æ–º–∞—Ç–∏—á–Ω–æ –∑–±–µ—Ä—ñ–≥–∞—é—Ç—å—Å—è –ø—ñ–¥ —á–∞—Å —Å–µ—Ä—ñ–∞–ª—ñ–∑–∞—Ü—ñ—ó —Ç–∞ –¥–µ—Å–µ—Ä—ñ–∞–ª—ñ–∑–∞—Ü—ñ—ó.

## –í—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–Ω—è
```bash
pip install flet-storage
```

## –®–≤–∏–¥–∫–∏–π —Å—Ç–∞—Ä—Ç
```python
import flet as ft
from flet_storage import FletStorage


async def main(page: ft.Page):
    # –Ü–Ω—ñ—Ü—ñ–∞–ª—ñ–∑–∞—Ü—ñ—è —Å—Ö–æ–≤–∏—â–∞ –∑ —É–Ω—ñ–∫–∞–ª—å–Ω–∏–º –ø—Ä–æ—Å—Ç–æ—Ä–æ–º —ñ–º–µ–Ω
    storage = FletStorage("my_app")

    # –ó–±–µ—Ä–µ–∂–µ–Ω–Ω—è –¥–∞–Ω–∏—Ö
    await storage.set("user", {"name": "–Ü–≤–∞–Ω", "age": 25})
    await storage.set("settings", {"theme": "dark", "language": "uk"})

    # –û—Ç—Ä–∏–º–∞–Ω–Ω—è –¥–∞–Ω–∏—Ö
    user = await storage.get("user")
    print(user)  # {'name': '–Ü–≤–∞–Ω', 'age': 25}

    # –û—Ç—Ä–∏–º–∞–Ω–Ω—è —ñ–∑ –∑–Ω–∞—á–µ–Ω–Ω—è–º –∑–∞ –∑–∞–º–æ–≤—á—É–≤–∞–Ω–Ω—è–º
    config = await storage.get_or_default("config", {"version": "1.0"})
    print(config)  # {'version': '1.0'}

    # –ü–µ—Ä–µ–≤—ñ—Ä–∫–∞ –Ω–∞—è–≤–Ω–æ—Å—Ç—ñ –∫–ª—é—á–∞
    exists = await storage.contains_key("user")
    print(exists)  # True

    # –û—Ç—Ä–∏–º–∞–Ω–Ω—è –≤—Å—ñ—Ö –∫–ª—é—á—ñ–≤
    keys = await storage.get_keys()
    print(keys)  # ['user', 'settings']

    # –í–∏–¥–∞–ª–µ–Ω–Ω—è –∫–ª—é—á–∞
    await storage.remove("settings")

    # –û—á–∏—â–µ–Ω–Ω—è –≤—Å—å–æ–≥–æ —Å—Ö–æ–≤–∏—â–∞
    await storage.clear()

ft.run(main)
```

## –ü—ñ–¥—Ç—Ä–∏–º—É–≤–∞–Ω—ñ —Ç–∏–ø–∏ –¥–∞–Ω–∏—Ö

FletStorage –∞–≤—Ç–æ–º–∞—Ç–∏—á–Ω–æ —Å–µ—Ä—ñ–∞–ª—ñ–∑—É—î —Ç–∞ –¥–µ—Å–µ—Ä—ñ–∞–ª—ñ–∑—É—î –Ω–∞—Å—Ç—É–ø–Ω—ñ —Ç–∏–ø–∏ Python:

| –¢–∏–ø | –û–ø–∏—Å | –ü—Ä–∏–∫–ª–∞–¥ |
|------|------|---------|
| `dict` | –°–ª–æ–≤–Ω–∏–∫–∏ | `{"–∫–ª—é—á": "–∑–Ω–∞—á–µ–Ω–Ω—è"}` |
| `list` | –°–ø–∏—Å–∫–∏ | `[1, 2, 3]` |
| `set` | –ú–Ω–æ–∂–∏–Ω–∏ (–∑–±–µ—Ä—ñ–≥–∞—é—Ç—å—Å—è) | `{"a", "b", "c"}` |
| `str` | –†—è–¥–∫–∏ | `"–ø—Ä–∏–≤—ñ—Ç"` |
| `int`, `float` | –ß–∏—Å–ª–∞ | `42`, `3.14` |
| `bool` | –ë—É–ª–µ–≤—ñ –∑–Ω–∞—á–µ–Ω–Ω—è | `True`, `False` |
| `None` | –ó–Ω–∞—á–µ–Ω–Ω—è None | `None` |

### –†–æ–±–æ—Ç–∞ –∑ –º–Ω–æ–∂–∏–Ω–∞–º–∏ (set)

–ú–Ω–æ–∂–∏–Ω–∏ –∞–≤—Ç–æ–º–∞—Ç–∏—á–Ω–æ –∑–±–µ—Ä—ñ–≥–∞—é—Ç—å—Å—è –ø—ñ–¥ —á–∞—Å –∑–±–µ—Ä–µ–∂–µ–Ω–Ω—è —Ç–∞ –æ—Ç—Ä–∏–º–∞–Ω–Ω—è:
```python
# –ó–±–µ—Ä–µ–∂–µ–Ω–Ω—è –º–Ω–æ–∂–∏–Ω–∏
tags = {"python", "flet", "async"}
await storage.set("tags", tags)

# –û—Ç—Ä–∏–º–∞–Ω–Ω—è (–ø–æ–≤–µ—Ä—Ç–∞—î –º–Ω–æ–∂–∏–Ω—É, –∞ –Ω–µ —Å–ø–∏—Å–æ–∫!)
tags = await storage.get("tags")
print(type(tags))  # <class 'set'> ‚úÖ
print(tags)  # {'python', 'flet', 'async'}

# –ú–Ω–æ–∂–∏–Ω–∏ —É –≤–∫–ª–∞–¥–µ–Ω–∏—Ö —Å—Ç—Ä—É–∫—Ç—É—Ä–∞—Ö —Ç–µ–∂ –ø—Ä–∞—Ü—é—é—Ç—å
data = {
    "user": "–Ü–≤–∞–Ω",
    "tags": {"web", "mobile"},
    "categories": ["tech", "programming"]
}
await storage.set("profile", data)
profile = await storage.get("profile")
# profile["tags"] —î –º–Ω–æ–∂–∏–Ω–æ—é ‚úÖ
# profile["categories"] —î —Å–ø–∏—Å–∫–æ–º ‚úÖ
```

**–¢–µ—Ö–Ω—ñ—á–Ω–∞ –ø—Ä–∏–º—ñ—Ç–∫–∞:** –ú–Ω–æ–∂–∏–Ω–∏ –∑–±–µ—Ä—ñ–≥–∞—é—Ç—å—Å—è –≤–Ω—É—Ç—Ä—ñ—à–Ω—å–æ —è–∫ `{"__type__": "set", "values": [...]}`. –Ø–∫—â–æ –≤–∞–º –ø–æ—Ç—Ä—ñ–±–Ω–æ –∑–±–µ—Ä–µ–≥—Ç–∏ —Å–ª–æ–≤–Ω–∏–∫ –∑ –∫–ª—é—á–µ–º `"__type__"`, —â–æ –¥–æ—Ä—ñ–≤–Ω—é—î `"set"`, –≤—ñ–Ω –º–æ–∂–µ –±—É—Ç–∏ –Ω–µ–ø—Ä–∞–≤–∏–ª—å–Ω–æ —ñ–Ω—Ç–µ—Ä–ø—Ä–µ—Ç–æ–≤–∞–Ω–∏–π —è–∫ –º–∞—Ä–∫–µ—Ä –º–Ω–æ–∂–∏–Ω–∏ –ø—ñ–¥ —á–∞—Å –¥–µ—Å–µ—Ä—ñ–∞–ª—ñ–∑–∞—Ü—ñ—ó.

## API –î–æ–≤—ñ–¥–Ω–∏–∫

### `__init__(app_name: str)`

–Ü–Ω—ñ—Ü—ñ–∞–ª—ñ–∑—É—î —Å—Ö–æ–≤–∏—â–µ –∑ —É–Ω—ñ–∫–∞–ª—å–Ω–∏–º –ø—Ä–æ—Å—Ç–æ—Ä–æ–º —ñ–º–µ–Ω.

**–ü–∞—Ä–∞–º–µ—Ç—Ä–∏:**
- `app_name` (str): –£–Ω—ñ–∫–∞–ª—å–Ω–∏–π –ø—Ä–æ—Å—Ç—ñ—Ä —ñ–º–µ–Ω –¥–ª—è –∑–∞—Å—Ç–æ—Å—É–Ω–∫—É.

**–ü—Ä–∏–∫–ª–∞–¥:**
```python
storage = FletStorage("todo_app")
```

---

### `async set(key: str, obj: object) -> bool`

–°–µ—Ä—ñ–∞–ª—ñ–∑—É—î –æ–±'—î–∫—Ç —É JSON —Ç–∞ –∑–±–µ—Ä—ñ–≥–∞—î –π–æ–≥–æ –ø—ñ–¥ –∫–ª—é—á–µ–º —ñ–∑ –ø—Ä–æ—Å—Ç–æ—Ä–æ–º —ñ–º–µ–Ω.

**–ü–∞—Ä–∞–º–µ—Ç—Ä–∏:**
- `key` (str): –£–Ω—ñ–∫–∞–ª—å–Ω–∏–π —ñ–¥–µ–Ω—Ç–∏—Ñ—ñ–∫–∞—Ç–æ—Ä –∫–ª—é—á–∞ (–±–µ–∑ –ø—Ä–æ—Å—Ç–æ—Ä—É —ñ–º–µ–Ω).
- `obj` (object): –ë—É–¥—å-—è–∫–∏–π –æ–±'—î–∫—Ç, —â–æ —Å–µ—Ä—ñ–∞–ª—ñ–∑—É—î—Ç—å—Å—è –≤ JSON (dict, list, set, str, int —Ç–æ—â–æ).

**–ü–æ–≤–µ—Ä—Ç–∞—î:**
- `bool`: `True`, —è–∫—â–æ –æ–ø–µ—Ä–∞—Ü—ñ—è —É—Å–ø—ñ—à–Ω–∞.

**–ü—Ä–∏–∫–ª–∞–¥:**
```python
await storage.set("preferences", {"notifications": True})
await storage.set("tags", {"python", "flet"})  # –ú–Ω–æ–∂–∏–Ω–∏ –ø—ñ–¥—Ç—Ä–∏–º—É—é—Ç—å—Å—è!
```

---

### `async get(key: str) -> Any`

–û—Ç—Ä–∏–º—É—î —Ç–∞ –¥–µ—Å–µ—Ä—ñ–∞–ª—ñ–∑—É—î –æ–±'—î–∫—Ç –∑–∞ –π–æ–≥–æ –∫–ª—é—á–µ–º.

**–ü–∞—Ä–∞–º–µ—Ç—Ä–∏:**
- `key` (str): –Ü–¥–µ–Ω—Ç–∏—Ñ—ñ–∫–∞—Ç–æ—Ä –∫–ª—é—á–∞ –¥–ª—è –ø–æ—à—É–∫—É.

**–ü–æ–≤–µ—Ä—Ç–∞—î:**
- `Any`: –î–µ—Å–µ—Ä—ñ–∞–ª—ñ–∑–æ–≤–∞–Ω–∏–π –æ–±'—î–∫—Ç Python.

**–í–∏–∫–∏–¥–∞—î:**
- `KeyError`: –Ø–∫—â–æ –∫–ª—é—á –Ω–µ —ñ—Å–Ω—É—î —É —Å—Ö–æ–≤–∏—â—ñ.
- `ValueError`: –Ø–∫—â–æ –∑–±–µ—Ä–µ–∂–µ–Ω—ñ –¥–∞–Ω—ñ –Ω–µ —î –≤–∞–ª—ñ–¥–Ω–∏–º JSON.

**–ü—Ä–∏–∫–ª–∞–¥:**
```python
try:
    data = await storage.get("preferences")
except KeyError:
    print("–ö–ª—é—á –Ω–µ –∑–Ω–∞–π–¥–µ–Ω–æ")
```

---

### `async get_or_default(key: str, default: Any = None) -> Any`

–û—Ç—Ä–∏–º—É—î –∑–Ω–∞—á–µ–Ω–Ω—è –¥–ª—è –≤–∫–∞–∑–∞–Ω–æ–≥–æ –∫–ª—é—á–∞ –∞–±–æ –ø–æ–≤–µ—Ä—Ç–∞—î –∑–Ω–∞—á–µ–Ω–Ω—è –∑–∞ –∑–∞–º–æ–≤—á—É–≤–∞–Ω–Ω—è–º, —è–∫—â–æ –∫–ª—é—á –Ω–µ –∑–Ω–∞–π–¥–µ–Ω–æ.

**–ü–∞—Ä–∞–º–µ—Ç—Ä–∏:**
- `key` (str): –Ü–¥–µ–Ω—Ç–∏—Ñ—ñ–∫–∞—Ç–æ—Ä –∫–ª—é—á–∞ –¥–ª—è –ø–æ—à—É–∫—É.
- `default` (Any): –ó–Ω–∞—á–µ–Ω–Ω—è, —â–æ –ø–æ–≤–µ—Ä—Ç–∞—î—Ç—å—Å—è, —è–∫—â–æ –∫–ª—é—á –Ω–µ —ñ—Å–Ω—É—î. –ó–∞ –∑–∞–º–æ–≤—á—É–≤–∞–Ω–Ω—è–º `None`.

**–ü–æ–≤–µ—Ä—Ç–∞—î:**
- `Any`: –î–µ—Å–µ—Ä—ñ–∞–ª—ñ–∑–æ–≤–∞–Ω–∏–π –æ–±'—î–∫—Ç, —è–∫—â–æ –∑–Ω–∞–π–¥–µ–Ω–æ, —ñ–Ω–∞–∫—à–µ –∑–Ω–∞—á–µ–Ω–Ω—è –∑–∞ –∑–∞–º–æ–≤—á—É–≤–∞–Ω–Ω—è–º.

**–í–∏–∫–∏–¥–∞—î:**
- `ValueError`: –Ø–∫—â–æ –∑–±–µ—Ä–µ–∂–µ–Ω—ñ –¥–∞–Ω—ñ –Ω–µ —î –≤–∞–ª—ñ–¥–Ω–∏–º JSON.

**–ü—Ä–∏–∫–ª–∞–¥:**
```python
config = await storage.get_or_default("config", {"version": "1.0"})
```

---

### `async contains_key(key: str) -> bool`

–ü–µ—Ä–µ–≤—ñ—Ä—è—î, —á–∏ —ñ—Å–Ω—É—î –ø–µ–≤–Ω–∏–π –∫–ª—é—á —É –ø—Ä–æ—Å—Ç–æ—Ä—ñ —ñ–º–µ–Ω –∑–∞—Å—Ç–æ—Å—É–Ω–∫—É.

**–ü–∞—Ä–∞–º–µ—Ç—Ä–∏:**
- `key` (str): –Ü–¥–µ–Ω—Ç–∏—Ñ—ñ–∫–∞—Ç–æ—Ä –∫–ª—é—á–∞ –¥–ª—è –ø–µ—Ä–µ–≤—ñ—Ä–∫–∏.

**–ü–æ–≤–µ—Ä—Ç–∞—î:**
- `bool`: `True`, —è–∫—â–æ –∫–ª—é—á —ñ—Å–Ω—É—î, —ñ–Ω–∞–∫—à–µ `False`.

**–ü—Ä–∏–∫–ª–∞–¥:**
```python
if await storage.contains_key("user_token"):
    token = await storage.get("user_token")
```

---

### `async remove(key: str) -> bool`

–í–∏–¥–∞–ª—è—î –ø–µ–≤–Ω–∏–π –∫–ª—é—á —Ç–∞ –π–æ–≥–æ –∑–Ω–∞—á–µ–Ω–Ω—è –∑—ñ —Å—Ö–æ–≤–∏—â–∞.

**–ü–∞—Ä–∞–º–µ—Ç—Ä–∏:**
- `key` (str): –Ü–¥–µ–Ω—Ç–∏—Ñ—ñ–∫–∞—Ç–æ—Ä –∫–ª—é—á–∞ –¥–ª—è –≤–∏–¥–∞–ª–µ–Ω–Ω—è.

**–ü–æ–≤–µ—Ä—Ç–∞—î:**
- `bool`: `True`, —è–∫—â–æ –æ–ø–µ—Ä–∞—Ü—ñ—è —É—Å–ø—ñ—à–Ω–∞.

**–ü—Ä–∏–∫–ª–∞–¥:**
```python
await storage.remove("temp_data")
```

---

### `async get_keys() -> list[str]`

–û—Ç—Ä–∏–º—É—î –≤—Å—ñ –∫–ª—é—á—ñ, —â–æ –Ω–∞–ª–µ–∂–∞—Ç—å –¥–æ –ø–æ—Ç–æ—á–Ω–æ–≥–æ –ø—Ä–æ—Å—Ç–æ—Ä—É —ñ–º–µ–Ω –∑–∞—Å—Ç–æ—Å—É–Ω–∫—É.

**–ü–æ–≤–µ—Ä—Ç–∞—î:**
- `list[str]`: –°–ø–∏—Å–æ–∫ –∫–ª—é—á—ñ–≤ —ñ–∑ –≤–∏–¥–∞–ª–µ–Ω–∏–º –ø—Ä–µ—Ñ—ñ–∫—Å–æ–º `app_name.`.

**–ü—Ä–∏–∫–ª–∞–¥:**
```python
all_keys = await storage.get_keys()
print(f"–ó–±–µ—Ä–µ–∂–µ–Ω–æ {len(all_keys)} –∫–ª—é—á—ñ–≤")
```

---

### `async clear() -> None`

–í–∏–¥–∞–ª—è—î –≤—Å—ñ –∫–ª—é—á—ñ —Ç–∞ –∑–Ω–∞—á–µ–Ω–Ω—è, –ø–æ–≤'—è–∑–∞–Ω—ñ –∑ –ø–æ—Ç–æ—á–Ω–∏–º –ø—Ä–æ—Å—Ç–æ—Ä–æ–º —ñ–º–µ–Ω –∑–∞—Å—Ç–æ—Å—É–Ω–∫—É. –Ü–Ω—à—ñ –ø—Ä–æ—Å—Ç–æ—Ä–∏ —ñ–º–µ–Ω —É `SharedPreferences` –∑–∞–ª–∏—à–∞—é—Ç—å—Å—è –Ω–µ–¥–æ—Ç–æ—Ä–∫–∞–Ω–∏–º–∏.

**–ü—Ä–∏–∫–ª–∞–¥:**
```python
await storage.clear()  # –í–∏–¥–∞–ª—è—î –≤—Å—ñ –¥–∞–Ω—ñ –∑–∞—Å—Ç–æ—Å—É–Ω–∫—É
```

---

## –ü—Ä–∏–∫–ª–∞–¥–∏ –≤–∏–∫–æ—Ä–∏—Å—Ç–∞–Ω–Ω—è

### –ó–±–µ—Ä–µ–∂–µ–Ω–Ω—è –Ω–∞–ª–∞—à—Ç—É–≤–∞–Ω—å –∫–æ—Ä–∏—Å—Ç—É–≤–∞—á–∞
```python
async def save_user_settings(storage: FletStorage, settings: dict):
    await storage.set("settings", settings)
    print("–ù–∞–ª–∞—à—Ç—É–≤–∞–Ω–Ω—è –∑–±–µ—Ä–µ–∂–µ–Ω–æ")

async def load_user_settings(storage: FletStorage) -> dict:
    return await storage.get_or_default("settings", {
        "theme": "light",
        "language": "uk",
        "notifications": True
    })
```

### –£–ø—Ä–∞–≤–ª—ñ–Ω–Ω—è —Å–ø–∏—Å–∫–æ–º –∑–∞–≤–¥–∞–Ω—å
```python
async def add_todo(storage: FletStorage, task: str):
    todos = await storage.get_or_default("todos", [])
    todos.append({"task": task, "completed": False})
    await storage.set("todos", todos)

async def get_all_todos(storage: FletStorage) -> list:
    return await storage.get_or_default("todos", [])

async def clear_completed_todos(storage: FletStorage):
    todos = await storage.get_or_default("todos", [])
    active_todos = [t for t in todos if not t["completed"]]
    await storage.set("todos", active_todos)
```

### –†–æ–±–æ—Ç–∞ –∑ —Ç–µ–≥–∞–º–∏ (–º–Ω–æ–∂–∏–Ω–∞–º–∏)
```python
async def add_tag(storage: FletStorage, tag: str):
    tags = await storage.get_or_default("tags", set())
    tags.add(tag)
    await storage.set("tags", tags)

async def remove_tag(storage: FletStorage, tag: str):
    tags = await storage.get_or_default("tags", set())
    tags.discard(tag)
    await storage.set("tags", tags)

async def get_all_tags(storage: FletStorage) -> set:
    return await storage.get_or_default("tags", set())
```

### –ö–µ—à—É–≤–∞–Ω–Ω—è –¥–∞–Ω–∏—Ö
```python
import time

async def cache_data(storage: FletStorage, key: str, data: Any, ttl: int = 3600):
    cache_entry = {
        "data": data,
        "expires_at": time.time() + ttl
    }
    await storage.set(f"cache_{key}", cache_entry)

async def get_cached_data(storage: FletStorage, key: str) -> Any | None:
    try:
        cache_entry = await storage.get(f"cache_{key}")
        if time.time() < cache_entry["expires_at"]:
            return cache_entry["data"]
        else:
            await storage.remove(f"cache_{key}")
            return None
    except KeyError:
        return None
```

## –û–±—Ä–æ–±–∫–∞ –ø–æ–º–∏–ª–æ–∫
```python
async def safe_get_data(storage: FletStorage, key: str):
    try:
        data = await storage.get(key)
        return data
    except KeyError:
        print(f"–ö–ª—é—á '{key}' –Ω–µ –∑–Ω–∞–π–¥–µ–Ω–æ")
        return None
    except ValueError as e:
        print(f"–ü–æ–º–∏–ª–∫–∞ JSON: {e}")
        return None
```

## –ù–∞–π–∫—Ä–∞—â—ñ –ø—Ä–∞–∫—Ç–∏–∫–∏

1. **–í–∏–∫–æ—Ä–∏—Å—Ç–æ–≤—É–π—Ç–µ –æ–ø–∏—Å–æ–≤—ñ –Ω–∞–∑–≤–∏ –ø—Ä–æ—Å—Ç–æ—Ä—ñ–≤ —ñ–º–µ–Ω:** –í–∏–±–µ—Ä—ñ—Ç—å —É–Ω—ñ–∫–∞–ª—å–Ω–∏–π `app_name`, —â–æ–± —É–Ω–∏–∫–Ω—É—Ç–∏ –∫–æ–Ω—Ñ–ª—ñ–∫—Ç—ñ–≤ —ñ–∑ —ñ–Ω—à–∏–º–∏ –∑–∞—Å—Ç–æ—Å—É–Ω–∫–∞–º–∏.

2. **–û–±—Ä–æ–±–ª—è–π—Ç–µ –≤–∏–Ω—è—Ç–∫–∏:** –ó–∞–≤–∂–¥–∏ –æ–±—Ä–æ–±–ª—è–π—Ç–µ `KeyError` —Ç–∞ `ValueError` –ø—Ä–∏ —Ä–æ–±–æ—Ç—ñ –∑ `get()`.

3. **–í–∏–∫–æ—Ä–∏—Å—Ç–æ–≤—É–π—Ç–µ `get_or_default()`:** –î–ª—è –Ω–µ–æ–±–æ–≤'—è–∑–∫–æ–≤–∏—Ö –¥–∞–Ω–∏—Ö —Ü–µ –∑—Ä—É—á–Ω—ñ—à–µ, –Ω—ñ–∂ –æ–±—Ä–æ–±–∫–∞ –≤–∏–Ω—è—Ç–∫—ñ–≤.

4. **–°—Ç—Ä—É–∫—Ç—É—Ä—É–π—Ç–µ –¥–∞–Ω—ñ:** –ó–±–µ—Ä—ñ–≥–∞–π—Ç–µ –ø–æ–≤'—è–∑–∞–Ω—ñ –¥–∞–Ω—ñ —Ä–∞–∑–æ–º —É —Å–ª–æ–≤–Ω–∏–∫–∞—Ö –¥–ª—è –∫—Ä–∞—â–æ—ó –æ—Ä–≥–∞–Ω—ñ–∑–∞—Ü—ñ—ó.

5. **–û—á–∏—â–∞–π—Ç–µ –∑–∞—Å—Ç–∞—Ä—ñ–ª—ñ –¥–∞–Ω—ñ:** –†–µ–≥—É–ª—è—Ä–Ω–æ –≤–∏–¥–∞–ª—è–π—Ç–µ –Ω–µ–ø–æ—Ç—Ä—ñ–±–Ω—ñ –∫–ª—é—á—ñ, —â–æ–± –∑–±–µ—Ä–µ–≥—Ç–∏ —Å—Ö–æ–≤–∏—â–µ —á–∏—Å—Ç–∏–º.

6. **–í–∏–∫–æ—Ä–∏—Å—Ç–æ–≤—É–π—Ç–µ –º–Ω–æ–∂–∏–Ω–∏ –¥–ª—è —É–Ω—ñ–∫–∞–ª—å–Ω–∏—Ö –∫–æ–ª–µ–∫—Ü—ñ–π:** –ú–Ω–æ–∂–∏–Ω–∏ –∞–≤—Ç–æ–º–∞—Ç–∏—á–Ω–æ –∑–±–µ—Ä—ñ–≥–∞—é—Ç—å—Å—è —ñ —ñ–¥–µ–∞–ª—å–Ω–æ –ø—ñ–¥—Ö–æ–¥—è—Ç—å –¥–ª—è –∑–±–µ—Ä—ñ–≥–∞–Ω–Ω—è —É–Ω—ñ–∫–∞–ª—å–Ω–∏—Ö –µ–ª–µ–º–µ–Ω—Ç—ñ–≤, —Ç–∞–∫–∏—Ö —è–∫ —Ç–µ–≥–∏ –∞–±–æ –∫–∞—Ç–µ–≥–æ—Ä—ñ—ó.

## –í–∏–º–æ–≥–∏

- Python 3.12+
- Flet >= 0.80.1

## –õ—ñ—Ü–µ–Ω–∑—ñ—è

MIT License

## –í–Ω–µ—Å–æ–∫

–í–Ω–µ—Å–∫–∏ –≤—ñ—Ç–∞—é—Ç—å—Å—è! –ë—É–¥—å –ª–∞—Å–∫–∞, –Ω–∞–¥—Å–∏–ª–∞–π—Ç–µ pull request –Ω–∞ [GitHub](https://github.com/BogdanovychA/flet-storage).

## –ü—ñ–¥—Ç—Ä–∏–º–∫–∞

–Ø–∫—â–æ —É –≤–∞—Å –≤–∏–Ω–∏–∫–ª–∏ –ø—Ä–æ–±–ª–µ–º–∏ –∞–±–æ –∑–∞–ø–∏—Ç–∞–Ω–Ω—è:
- –í—ñ–¥–∫—Ä–∏–π—Ç–µ issue –Ω–∞ [GitHub](https://github.com/BogdanovychA/flet-storage/issues)

---

**–ó—Ä–æ–±–ª–µ–Ω–æ –∑ ‚ù§Ô∏è –¥–ª—è —Å–ø—ñ–ª—å–Ω–æ—Ç–∏ Flet**